# Atividade Pr√°tica: API REST - Sistema de Biblioteca

## üìö Objetivo

Desenvolver uma API REST para gerenciar livros de uma biblioteca, implementando opera√ß√µes CRUD (Create, Read, Update, Delete) com persist√™ncia em banco de dados.

## ‚è±Ô∏è Tempo estimado

2 horas

## üéØ Descri√ß√£o

Voc√™ deve criar uma API que permita gerenciar um cat√°logo de livros. A API deve ser capaz de adicionar, listar, atualizar e remover livros do sistema.

## üîß Tecnologias Sugeridas

- **Backend**: Python com Flask (ou Node.js com Express)
- **Banco de Dados**: SQLite (simples e sem necessidade de instala√ß√£o)
- **Teste de API**: Postman, Insomnia ou Thunder Client (VS Code)

## üìä Estrutura do Banco de Dados

### Tabela: livros

| Campo          | Tipo         | Descri√ß√£o                                         | Obrigat√≥rio        |
| -------------- | ------------ | ------------------------------------------------- | ------------------ |
| id             | INTEGER      | Identificador √∫nico (Primary Key, Auto-increment) | Sim                |
| titulo         | VARCHAR(200) | T√≠tulo do livro                                   | Sim                |
| autor          | VARCHAR(100) | Nome do autor                                     | Sim                |
| ano_publicacao | INTEGER      | Ano de publica√ß√£o                                 | Sim                |
| isbn           | VARCHAR(20)  | C√≥digo ISBN                                       | N√£o                |
| disponivel     | BOOLEAN      | Se o livro est√° dispon√≠vel para empr√©stimo        | Sim (padr√£o: true) |

## üöÄ Endpoints a Implementar

### 1. Criar um novo livro

```
POST /livros
Content-Type: application/json

Body:
{
  "titulo": "1984",
  "autor": "George Orwell",
  "ano_publicacao": 1949,
  "isbn": "978-0451524935",
  "disponivel": true
}

Resposta (201 Created):
{
  "id": 1,
  "titulo": "1984",
  "autor": "George Orwell",
  "ano_publicacao": 1949,
  "isbn": "978-0451524935",
  "disponivel": true,
  "mensagem": "Livro cadastrado com sucesso!"
}
```

### 2. Listar todos os livros

```
GET /livros

Resposta (200 OK):
{
  "total": 2,
  "livros": [
    {
      "id": 1,
      "titulo": "1984",
      "autor": "George Orwell",
      "ano_publicacao": 1949,
      "isbn": "978-0451524935",
      "disponivel": true
    },
    {
      "id": 2,
      "titulo": "O Senhor dos An√©is",
      "autor": "J.R.R. Tolkien",
      "ano_publicacao": 1954,
      "isbn": "978-0544003415",
      "disponivel": false
    }
  ]
}
```

### 3. Buscar um livro espec√≠fico

```
GET /livros/{id}

Resposta (200 OK):
{
  "id": 1,
  "titulo": "1984",
  "autor": "George Orwell",
  "ano_publicacao": 1949,
  "isbn": "978-0451524935",
  "disponivel": true
}

Resposta (404 Not Found):
{
  "erro": "Livro n√£o encontrado"
}
```

### 4. Atualizar um livro

```
PUT /livros/{id}
Content-Type: application/json

Body (pode enviar apenas os campos que deseja atualizar):
{
  "disponivel": false
}

Resposta (200 OK):
{
  "id": 1,
  "titulo": "1984",
  "autor": "George Orwell",
  "ano_publicacao": 1949,
  "isbn": "978-0451524935",
  "disponivel": false,
  "mensagem": "Livro atualizado com sucesso!"
}
```

### 5. Deletar um livro

```
DELETE /livros/{id}

Resposta (200 OK):
{
  "mensagem": "Livro removido com sucesso!"
}

Resposta (404 Not Found):
{
  "erro": "Livro n√£o encontrado"
}
```

## ‚úÖ Requisitos Obrigat√≥rios

1. ‚úîÔ∏è Implementar todos os 5 endpoints listados acima
2. ‚úîÔ∏è Validar dados de entrada (campos obrigat√≥rios)
3. ‚úîÔ∏è Retornar c√≥digos HTTP apropriados:
   - 200: Sucesso
   - 201: Criado
   - 400: Requisi√ß√£o inv√°lida
   - 404: N√£o encontrado
   - 500: Erro interno
4. ‚úîÔ∏è Respostas em formato JSON
5. ‚úîÔ∏è Persist√™ncia em banco de dados (SQLite)

## üåü B√¥nus (Opcional)

- Implementar filtros na listagem (ex: `/livros?autor=Tolkien`)
- Adicionar pagina√ß√£o nos resultados
- Implementar endpoint de busca por t√≠tulo ou autor
- Adicionar tratamento de erros mais robusto
- Documentar a API usando Swagger/OpenAPI

## üìù Entreg√°veis

1. C√≥digo fonte da aplica√ß√£o
2. Arquivo `requirements.txt` (Python) ou `package.json` (Node.js)
3. Arquivo `README.md` com instru√ß√µes de execu√ß√£o
4. Arquivo SQL ou script de cria√ß√£o do banco de dados
5. Cole√ß√£o do Postman/Insomnia com os testes (opcional)

## üß™ Como Testar

1. Inicie a aplica√ß√£o
2. Use o Postman/Insomnia para testar cada endpoint
3. Verifique se os dados est√£o sendo persistidos no banco
4. Teste casos de erro (livro n√£o encontrado, campos obrigat√≥rios faltando, etc.)

## üí° Dicas

1. **Comece simples**: Implemente primeiro o GET e POST, depois os demais
2. **Teste frequentemente**: Teste cada endpoint ap√≥s implement√°-lo
3. **Organize o c√≥digo**: Separe a l√≥gica de rotas, banco de dados e valida√ß√µes
4. **Use ferramentas**: Postman/Insomnia facilitam muito o teste de APIs
5. **Trate erros**: Sempre valide os dados recebidos e retorne mensagens claras

---

**Boa sorte! üöÄ**
